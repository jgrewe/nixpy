<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>NIXPy Tutorial &mdash; Python bindings for NIX 0.10.4 Beta documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.10.4 Beta',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Python bindings for NIX 0.10.4 Beta documentation" href="index.html" />
    <link rel="next" title="API Documentation for Data" href="api_data.html" />
    <link rel="prev" title="Installation Guidelines" href="install.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="api_data.html" title="API Documentation for Data"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="install.html" title="Installation Guidelines"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Python bindings for NIX 0.10.4 Beta documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="nixpy-tutorial">
<h1>NIXPy Tutorial<a class="headerlink" href="#nixpy-tutorial" title="Permalink to this headline">¶</a></h1>
<p>In the following you will find tutorials showing how to use nixpy to
read and write nix-files. We will first introduce the design
principles of the nix Data Model. Further down this page, you will
find example programs showing how to store different data types in the
data model how to establish links between entities, add metadata etc..</p>
<div class="section" id="design-principles">
<h2>Design Principles<a class="headerlink" href="#design-principles" title="Permalink to this headline">¶</a></h2>
<p>The design of the data model tries to draw on similarities of
different data types and structures and and come up with <em>entities</em>
that are as generic and versatile as meaningful. At the same time we
aim for clearly established links between differen entities to keep the
model as expressive as possible.</p>
<div class="section" id="creating-a-file">
<h3>Creating a file<a class="headerlink" href="#creating-a-file" title="Permalink to this headline">¶</a></h3>
<p>So far we have implemented the nix model only for the HDF5 file
format. In order to store data in a file we need to create one.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">nix</span>

<span class="n">nix_file</span> <span class="o">=</span> <span class="n">nix</span><span class="o">.</span><span class="n">File</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s">&#39;example.h5&#39;</span><span class="p">,</span> <span class="n">nix</span><span class="o">.</span><span class="n">FileMode</span><span class="o">.</span><span class="n">Overwrite</span><span class="p">)</span>
</pre></div>
</div>
<p>The <strong>File</strong> entity is the root of this document and it has only two
children the <em>data</em> and <em>metadata</em> nodes. You may want to use the
hdfview tool to open the file and look at it. Of course you can access
both parts using the <strong>File</strong> API.</p>
<p>All information directly related to a chunk of data is stored in the
<em>data</em> node as children of a top-level entity called <strong>Block</strong>. A
<strong>Block</strong> is a grouping element that can represent many things. For
example it can take up everything that was recorded in the same
<em>session</em>. Therefore, the <strong>Block</strong> has a <em>name</em> and a <em>type</em>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">block</span> <span class="o">=</span> <span class="n">nix_file</span><span class="o">.</span><span class="n">create_block</span><span class="p">(</span><span class="s">&quot;Test block&quot;</span><span class="p">,</span> <span class="s">&quot;nix.session&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Names can be freely chosen. Duplication of names on the same
hierarchy-level is not allowed. In this example creating a second
<strong>Block</strong> with the very same name leads to an error. Names must not
contain &#8216;/&#8217; characters since they are path separators in the HDF5
file. To avoid collisions across files every created entity has an
unique id (UUID).</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">block</span><span class="o">.</span><span class="n">id</span>
<span class="s">&#39;017d7764-173b-4716-a6c2-45f6d37ddb52&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="storing-data">
<h3>Storing data<a class="headerlink" href="#storing-data" title="Permalink to this headline">¶</a></h3>
<p>The heart of our data model is an entity called <strong>DataArray</strong>. This is
the entity that actually stores all data. It can take n-dimensional
arrays and provides sufficient information to create a basic plot of
the data. To achieve this, one essential parts is to define what kind
of data is stored. Hence, every dimension of the stored data <strong>must</strong>
be defined using the available Dimension descriptors (below). The
following code snippets show how to create an <strong>DataArray</strong> and how to
store data in it.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># create a DataArray and store data in it</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">block</span><span class="o">.</span><span class="n">create_data_array</span><span class="p">(</span><span class="s">&quot;my data&quot;</span><span class="p">,</span> <span class="s">&quot;nix.sampled&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">some_numpy_array</span><span class="p">)</span>
</pre></div>
</div>
<p>Using this call will create a <strong>DataArray</strong>, set name and type, set
the <em>dataType</em> according to the dtype of the passed data, and store
the data in the file. You can also create empty <strong>DataArrays</strong> to take
up data-to-be-recorded. In this case you have to provide the space
that will be needed in advance.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># create an empty DataArray to store 2x1000 values</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">block</span><span class="o">.</span><span class="n">create_data_array</span><span class="p">(</span><span class="s">&quot;my data&quot;</span><span class="p">,</span> <span class="s">&quot;nix.sampled&quot;</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">nix</span><span class="o">.</span><span class="n">dtype</span><span class="o">.</span><span class="n">Double</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1000</span><span class="p">))</span>
<span class="n">some_numpy_array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">some_numpy_array</span>
</pre></div>
</div>
<p>If you do not know the size of the data in advance, you can append
data to an already existing <strong>DataArray</strong>. <strong>Beware:</strong> Though it is
possible to extend the data, it is not possible to change the
dimensionality (rank) of the data afterwards.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># create an empty DataArray to store 2x1000 values</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">block</span><span class="o">.</span><span class="n">create_data_array</span><span class="p">(</span><span class="s">&quot;my data&quot;</span><span class="p">,</span> <span class="s">&quot;nix.sampled&quot;</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">nix</span><span class="o">.</span><span class="n">dtype</span><span class="o">.</span><span class="n">Double</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1000</span><span class="p">))</span>
<span class="n">some_numpy_array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
<span class="n">data</span><span class="p">[:,</span> <span class="p">:]</span> <span class="o">=</span> <span class="n">some_numpy_array</span>
<span class="n">some_more_data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="n">data</span><span class="o">.</span><span class="n">data_extent</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">1010</span><span class="p">))</span>
<span class="n">data</span><span class="p">[:,</span> <span class="mi">1000</span><span class="p">:]</span> <span class="o">=</span> <span class="n">some_more_data</span>
</pre></div>
</div>
</div>
<div class="section" id="dimension-descriptors">
<h3>Dimension descriptors<a class="headerlink" href="#dimension-descriptors" title="Permalink to this headline">¶</a></h3>
<p>In the above examples we have created <strong>DataArray</strong> entities that are
used to store the data. Goal of our model design is that the data
containing structures carry enough information to create a basic
plot. Let&#8217;s assume a time-series of data needs to be stored: The data
is just a vector of measurements (e.g. voltages). The data would be
plotted as a line-plot. We thus need to define the x- and the y-axis
of the plot. The y- or value axis is defined by setting the label and
the unit properties of the <strong>DataArray</strong>, the x-axis needs a dimension
descriptor. In the nix model three different dimension descriptors are
defined. <strong>SampledDimension</strong>, <strong>RangeDimension</strong>, and
<strong>SetDimension</strong> which are used for (i) data that has been sampled in
space or time in regular intervals, (ii) data that has been sampled in
irregular intervals, and (iii) data that belongs to categories.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">sample_interval</span> <span class="o">=</span> <span class="mf">0.001</span> <span class="c"># s</span>
<span class="n">sinewave</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="n">sample_interval</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">block</span><span class="o">.</span><span class="n">create_data_array</span><span class="p">(</span><span class="s">&quot;sinewave&quot;</span><span class="p">,</span><span class="s">&quot;nix.regular_sampled&quot;</span><span class="p">,</span><span class="n">data</span><span class="o">=</span><span class="n">sinewave</span><span class="p">)</span>
<span class="n">data</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="s">&quot;voltage&quot;</span>
<span class="n">data</span><span class="o">.</span><span class="n">unit</span> <span class="o">=</span> <span class="s">&quot;mV&quot;</span>
<span class="c"># define the time dimension of the data</span>
<span class="n">dim</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">append_sampled_dimension</span><span class="p">(</span><span class="n">sample_interval</span><span class="p">)</span>
<span class="n">dim</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="s">&quot;time&quot;</span>
<span class="n">dim</span><span class="o">.</span><span class="n">unit</span> <span class="o">=</span> <span class="s">&quot;s&quot;</span>
</pre></div>
</div>
<p>The <strong>SampledDimension</strong> can also be used to desribe space dimensions,
e.g. in case of images.</p>
<p>If the data was sampled at irregular intervals the sample points of
the x-axis are defined using the <em>ticks</em> property of a
<strong>RangeDimension</strong>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">sample_times</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">4.2</span><span class="p">,</span> <span class="mf">4.7</span><span class="p">,</span> <span class="mf">9.6</span><span class="p">]</span>
<span class="n">dim</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">append_range_dimension</span><span class="p">(</span><span class="n">sample_times</span><span class="p">)</span>
<span class="n">dim</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="s">&quot;time&quot;</span>
<span class="n">dim</span><span class="o">.</span><span class="n">unit</span> <span class="o">=</span> <span class="s">&quot;s&quot;</span>
</pre></div>
</div>
<p>Finally, some data belongs into categroies which do not necessarly
have a natural order. In these cases a <strong>SetDimension</strong> is used. This
descriptor can store for each category an optional label.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">observations</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">45</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">28</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<span class="n">categories</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;Jan&#39;</span><span class="p">,</span> <span class="s">&#39;Feb&#39;</span><span class="p">,</span> <span class="s">&#39;Mar&#39;</span><span class="p">,</span> <span class="s">&#39;Apr&#39;</span><span class="p">,</span> <span class="s">&#39;May&#39;</span><span class="p">,</span> <span class="s">&#39;Jun&#39;</span><span class="p">,</span>
              <span class="s">&#39;Jul&#39;</span><span class="p">,</span> <span class="s">&#39;Aug&#39;</span><span class="p">,</span><span class="s">&#39;Sep&#39;</span><span class="p">,</span><span class="s">&#39;Oct&#39;</span><span class="p">,</span><span class="s">&#39;Nov&#39;</span><span class="p">,</span> <span class="s">&#39;Dec&#39;</span><span class="p">]</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">block</span><span class="o">.</span><span class="n">create_data_array</span><span class="p">(</span><span class="s">&quot;observations&quot;</span><span class="p">,</span> <span class="s">&quot;nix.histogram&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">observations</span><span class="p">)</span>
<span class="n">dim</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">append_set_dimension</span><span class="p">()</span>
<span class="n">dim</span><span class="o">.</span><span class="n">labels</span> <span class="o">=</span> <span class="n">categories</span>
</pre></div>
</div>
</div>
<div class="section" id="annotate-regions-in-the-data">
<h3>Annotate regions in the data<a class="headerlink" href="#annotate-regions-in-the-data" title="Permalink to this headline">¶</a></h3>
<p>TOTO</p>
</div>
<div class="section" id="adding-further-information">
<h3>Adding further information<a class="headerlink" href="#adding-further-information" title="Permalink to this headline">¶</a></h3>
<p>TODO</p>
</div>
</div>
<div class="section" id="list-of-tutorials">
<span id="toc"></span><h2>List of Tutorials<a class="headerlink" href="#list-of-tutorials" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Working with files<ul>
<li><a class="reference internal" href="#working-with-files"><em>Working with Files</em></a></li>
</ul>
</li>
<li>Basic data structures<ul>
<li><a class="reference internal" href="#regularly-sampled-data"><em>Regularly sampled data</em></a></li>
<li><a class="reference internal" href="#irregularly-sampled-data"><em>Irregularly sampled data</em></a></li>
<li><a class="reference internal" href="#event-data"><em>Event data</em></a></li>
<li><a class="reference internal" href="#multiple-signals"><em>Series of signals</em></a></li>
<li><a class="reference internal" href="#image-data"><em>Image data</em></a></li>
</ul>
</li>
<li>Tagging points and regions-of-interest<ul>
<li><a class="reference internal" href="#single-roi"><em>Single point or region</em></a></li>
<li><a class="reference internal" href="#multiple-rois"><em>Multiple points or regions</em></a></li>
<li><a class="reference internal" href="#spike-tagging"><em>Tagging spikes in membrane potential</em></a></li>
</ul>
</li>
<li>Features<ul>
<li><a class="reference internal" href="#tagged-feature"><em>Tagged Feature</em></a></li>
<li><a class="reference internal" href="#indexed-feature"><em>Indexed Feature</em></a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="working-with-files">
<span id="id1"></span><h2>Working with Files<a class="headerlink" href="#working-with-files" title="Permalink to this headline">¶</a></h2>
<p>The following code shows how to create a new nix-file, close it and
re-open them with different access rights (examples/fileCreate.py).</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c">#!/usr/bin/env python</span>
<span class="c"># -*- coding: utf-8 -*-</span>

<span class="kn">import</span> <span class="nn">nix</span>

<span class="n">file_name</span> <span class="o">=</span> <span class="s">&#39;file_create_example.h5&#39;</span>

<span class="c"># create a new file overwriting any existing content</span>
<span class="nb">file</span> <span class="o">=</span> <span class="n">nix</span><span class="o">.</span><span class="n">File</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="n">nix</span><span class="o">.</span><span class="n">FileMode</span><span class="o">.</span><span class="n">Overwrite</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="nb">file</span><span class="o">.</span><span class="n">format</span><span class="p">,</span> <span class="nb">file</span><span class="o">.</span><span class="n">version</span><span class="p">,</span> <span class="nb">file</span><span class="o">.</span><span class="n">created_at</span><span class="p">)</span>

<span class="c"># close file</span>
<span class="nb">file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="c"># re-open file for read-only access</span>
<span class="nb">file</span>  <span class="o">=</span> <span class="n">nix</span><span class="o">.</span><span class="n">File</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="n">nix</span><span class="o">.</span><span class="n">FileMode</span><span class="o">.</span><span class="n">ReadOnly</span><span class="p">)</span>

<span class="c"># this command will fail putting out HDF5 Errors</span>
<span class="nb">file</span><span class="o">.</span><span class="n">create_block</span><span class="p">(</span><span class="s">&quot;test block&quot;</span><span class="p">,</span> <span class="s">&quot;test&quot;</span><span class="p">)</span>

<span class="nb">file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="c"># re-open for read-write access</span>
<span class="nb">file</span>  <span class="o">=</span> <span class="n">nix</span><span class="o">.</span><span class="n">File</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="n">nix</span><span class="o">.</span><span class="n">FileMode</span><span class="o">.</span><span class="n">ReadWrite</span><span class="p">)</span>

<span class="c"># the following command now works fine</span>
<span class="nb">file</span><span class="o">.</span><span class="n">create_block</span><span class="p">(</span><span class="s">&quot;test block&quot;</span><span class="p">,</span> <span class="s">&quot;test&quot;</span><span class="p">)</span>

<span class="nb">file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<p>Source code of this example: <a class="reference external" href="examples/fileCreate.py">fileCreate.py</a>.</p>
<p><a class="reference internal" href="#toc"><em>List of Tutorials</em></a></p>
</div>
<div class="section" id="basic-data-structures">
<h2>Basic data structures<a class="headerlink" href="#basic-data-structures" title="Permalink to this headline">¶</a></h2>
<p>In this section we will show how different kinds of data are stored in
nix files. We will start with simple regularly and irregularly sampled
signals, turn to series of such signals and end with images stacks.</p>
<div class="section" id="regularly-sampled-data">
<span id="id2"></span><h3>Regularly sampled data<a class="headerlink" href="#regularly-sampled-data" title="Permalink to this headline">¶</a></h3>
<p>Regularly sampled data is everything which is sampled in regular
intervals in space, time, or something else. Let&#8217;s consider a signal
that has been digitized using an AD-Converter at a fixed sampling
rate. In this case the axis representing time has to be described
using a <strong>SampledDimension</strong>. This dimension descriptor contains as
mandatory element the <em>sampling_interval</em>. The <em>sampling_interval</em> has
to be given because it also applies e.g. to spatial sampling, it is
the more general term than the sampling rate which may appear
appropriate for time discretization. Further, the <em>unit</em> in which this
number has to be interpreted and a <em>label</em> for the axis can be
specified. The following code illustrates how this is stored in nix
files.</p>
<div class="highlight-python"><div class="highlight"><pre>    <span class="c"># create a &#39;Block&#39; that represents a grouping object. Here, the recording session.</span>
    <span class="c"># it gets a name and a type </span>
    <span class="n">block</span> <span class="o">=</span> <span class="nb">file</span><span class="o">.</span><span class="n">create_block</span><span class="p">(</span><span class="s">&quot;block name&quot;</span><span class="p">,</span> <span class="s">&quot;nix.session&quot;</span><span class="p">)</span>

    <span class="c"># create a &#39;DataArray&#39; to take the sinewave, add some information about the signal</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">block</span><span class="o">.</span><span class="n">create_data_array</span><span class="p">(</span><span class="s">&quot;sinewave&quot;</span><span class="p">,</span> <span class="s">&quot;nix.regular_sampled&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">y</span><span class="p">)</span>
    <span class="n">data</span><span class="o">.</span><span class="n">unit</span> <span class="o">=</span> <span class="s">&quot;mV&quot;</span>
    <span class="n">data</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="s">&quot;voltage&quot;</span>
    <span class="c"># add a descriptor for the xaxis</span>
    <span class="n">dim</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">append_sampled_dimension</span><span class="p">(</span><span class="n">stepsize</span><span class="p">)</span>
    <span class="n">dim</span><span class="o">.</span><span class="n">unit</span> <span class="o">=</span> <span class="s">&quot;s&quot;</span>
    <span class="n">dim</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="s">&quot;time&quot;</span>
    <span class="n">dim</span><span class="o">.</span><span class="n">offset</span> <span class="o">=</span> <span class="mf">0.0</span> <span class="c"># optional</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/regular_sampled.png"><img alt="_images/regular_sampled.png" src="_images/regular_sampled.png" style="width: 240px;" /></a>
<p>Source code for this example: <a class="reference external" href="examples/regularlySampledData.py">regularlySampledData.py</a>.</p>
<p><a class="reference internal" href="#toc"><em>List of Tutorials</em></a></p>
</div>
<div class="section" id="irregularly-sampled-data">
<span id="id3"></span><h3>Irregularly sampled data<a class="headerlink" href="#irregularly-sampled-data" title="Permalink to this headline">¶</a></h3>
<p>Irregularly sampled data is sampled at irregular intervals. The
dimension which is sampled in this way has to be described using a
<strong>RangeDimension</strong>. This dimension descriptor stores besides the
<em>unit</em> and <em>label</em> of the axis the ticks, e.g. time-stamps of the
instances at which the samples were taken.</p>
<div class="highlight-python"><div class="highlight"><pre>    <span class="n">data</span> <span class="o">=</span> <span class="n">block</span><span class="o">.</span><span class="n">create_data_array</span><span class="p">(</span><span class="s">&quot;sinewave&quot;</span><span class="p">,</span> <span class="s">&quot;nix.irregular_sampled&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">y</span><span class="p">)</span>
    <span class="n">data</span><span class="o">.</span><span class="n">unit</span> <span class="o">=</span> <span class="s">&quot;mV&quot;</span>
    <span class="n">data</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="s">&quot;voltage&quot;</span>
    <span class="c"># add a descriptor for the xaxis</span>
    <span class="n">dim</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">append_range_dimension</span><span class="p">(</span><span class="n">times</span><span class="p">)</span>
    <span class="n">dim</span><span class="o">.</span><span class="n">unit</span> <span class="o">=</span> <span class="s">&quot;s&quot;</span>
    <span class="n">dim</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="s">&quot;time&quot;</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/irregular.png"><img alt="_images/irregular.png" src="_images/irregular.png" style="width: 240px;" /></a>
<p>Source code for this example: <a class="reference external" href="examples/irregularlySampledData.py">irregularlySampledData.py</a>.</p>
<p><a class="reference internal" href="#toc"><em>List of Tutorials</em></a></p>
</div>
<div class="section" id="event-data">
<span id="id4"></span><h3>Event data<a class="headerlink" href="#event-data" title="Permalink to this headline">¶</a></h3>
<p>TODO</p>
</div>
<div class="section" id="series-of-signals">
<span id="multiple-signals"></span><h3>Series of signals<a class="headerlink" href="#series-of-signals" title="Permalink to this headline">¶</a></h3>
<p>It is possible to store multiple signals that have the same shape and
logically belong together in the same <em>DataArray</em> object. In this
case, the data is two-dimensional and two dimension-descriptors are
needed. Depending on the layout of the data one dimension represents
time and is described with a <em>SampledDimension</em> while the other
represents the various signals. This is described with a
<em>SetDimension</em>. A <em>SetDimension</em> can have labels for each entry along
this dimension of the data.</p>
<div class="highlight-python"><div class="highlight"><pre>    <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">((</span><span class="n">sine</span><span class="p">,</span> <span class="n">cosine</span><span class="p">))</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">block</span><span class="o">.</span><span class="n">create_data_array</span><span class="p">(</span><span class="s">&quot;waveforms&quot;</span><span class="p">,</span> <span class="s">&quot;nix.regular_sampled.multiple_series&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">y</span><span class="p">)</span>
    <span class="n">data</span><span class="o">.</span><span class="n">unit</span> <span class="o">=</span> <span class="s">&quot;mV&quot;</span>
    <span class="n">data</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="s">&quot;voltage&quot;</span>
    <span class="c"># descriptor for first dimension is a set</span>
    <span class="n">set_dim</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">append_set_dimension</span><span class="p">()</span>
    <span class="n">set_dim</span><span class="o">.</span><span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;sin&#39;</span><span class="p">,</span> <span class="s">&#39;cos&#39;</span><span class="p">]</span>
    <span class="c"># add a descriptor for the xaxis</span>
    <span class="n">dim</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">append_sampled_dimension</span><span class="p">(</span><span class="n">stepsize</span><span class="p">)</span>
    <span class="n">dim</span><span class="o">.</span><span class="n">unit</span> <span class="o">=</span> <span class="s">&quot;s&quot;</span>
    <span class="n">dim</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="s">&quot;time&quot;</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/multiple_time_series.png"><img alt="_images/multiple_time_series.png" src="_images/multiple_time_series.png" style="width: 240px;" /></a>
<p>Source code for this example: <a class="reference external" href="examples/irregularlySampledData.py">multipleTimeSeries.py</a>.</p>
<p><a class="reference internal" href="#toc"><em>List of Tutorials</em></a></p>
</div>
<div class="section" id="image-data">
<span id="id5"></span><h3>Image data<a class="headerlink" href="#image-data" title="Permalink to this headline">¶</a></h3>
<p>Color images can be stored as 3-D data in a <em>DataArray</em>. The first two
dimensions represent <em>width</em> and <em>height</em> of the image while the 3rd
dimension represents the color channels. Accordingly, we need three
dimension descriptors. The first two are <em>SampledDimensions</em> since the
pixels of the image are regularly sampled in space. The third
dimension is a <em>SetDimension</em> with labels for each of the channels.
In this tutorial the &#8220;Lenna&#8221; image is used. Please see the author
attribution in the code.</p>
<div class="highlight-python"><div class="highlight"><pre>    <span class="n">data</span> <span class="o">=</span> <span class="n">block</span><span class="o">.</span><span class="n">create_data_array</span><span class="p">(</span><span class="s">&quot;lenna&quot;</span><span class="p">,</span> <span class="s">&quot;nix.image.rgb&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">img_data</span><span class="p">)</span>
    <span class="c"># add descriptors for width, height and channels</span>
    <span class="n">height_dim</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">append_sampled_dimension</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">height_dim</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="s">&quot;height&quot;</span>
    <span class="n">width_dim</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">append_sampled_dimension</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">width_dim</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="s">&quot;width&quot;</span>
    <span class="n">color_dim</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">append_set_dimension</span><span class="p">()</span>
    <span class="n">color_dim</span><span class="o">.</span><span class="n">labels</span> <span class="o">=</span> <span class="n">channels</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/lenna.png"><img alt="_images/lenna.png" src="_images/lenna.png" style="width: 240px;" /></a>
<p>if the image is not shown install <em>imagemagick</em> or <em>xv</em> tools (Linux)
Source code for this example: <a class="reference external" href="examples/imageData.py">imageData.py</a>.</p>
<p><a class="reference internal" href="#toc"><em>List of Tutorials</em></a></p>
</div>
</div>
<div class="section" id="tagging-regions">
<h2>Tagging regions<a class="headerlink" href="#tagging-regions" title="Permalink to this headline">¶</a></h2>
<p>One key feature of the nix-model is its ability to annotate, or &#8220;tag&#8221;,
points or regions-of-interest in the stored data. This feature can be
used to state the occurrence of events during the recording, to state
the intervals of a certain condition, e.g. a stimulus presentation, or
to mark the regions of interests in image data. In the nix data-model
two types of Tags are discriminated. (1) the <strong>Tag</strong> for single points
or regions, and (2) the <strong>MultiTag</strong> to annotate multiple points or
regions using the same entity.</p>
<div class="section" id="single-point-or-region">
<span id="single-roi"></span><h3>Single point or region<a class="headerlink" href="#single-point-or-region" title="Permalink to this headline">¶</a></h3>
<p>Single points of regions-of-interest are annotated using a <strong>Tag</strong>
object. The Tag contains the start <em>position</em> and, optional, the
<em>extent</em> of the point or region. The link to the data is established
by adding the <strong>DataArray</strong> that contains the data to the list of
references. It is important to note that <em>position</em> and <em>extent</em> are
arrays with the length matching the dimensionality of the referenced
data. The same Tag can be applied to many references as long as
<em>position</em> and <em>extent</em> can be applied to these.</p>
<div class="highlight-python"><div class="highlight"><pre>    <span class="n">position</span> <span class="o">=</span> <span class="p">[</span><span class="mi">250</span><span class="p">,</span> <span class="mi">250</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
    <span class="n">extent</span> <span class="o">=</span> <span class="p">[</span><span class="mi">30</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
    <span class="n">tag</span> <span class="o">=</span> <span class="n">block</span><span class="o">.</span><span class="n">create_tag</span><span class="p">(</span><span class="s">&#39;Region of interest&#39;</span><span class="p">,</span> <span class="s">&#39;nix.roi&#39;</span><span class="p">,</span> <span class="n">position</span><span class="p">)</span>
    <span class="n">tag</span><span class="o">.</span><span class="n">extent</span> <span class="o">=</span> <span class="n">extent</span>
    <span class="n">tag</span><span class="o">.</span><span class="n">references</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/single_roi.png"><img alt="_images/single_roi.png" src="_images/single_roi.png" style="width: 240px;" /></a>
<p>Source code for this example: <a class="reference external" href="examples/singleROI.py">singleROI.py</a>.</p>
<p><a class="reference internal" href="#toc"><em>List of Tutorials</em></a></p>
</div>
<div class="section" id="multiple-points-or-regions">
<span id="multiple-rois"></span><h3>Multiple points or regions<a class="headerlink" href="#multiple-points-or-regions" title="Permalink to this headline">¶</a></h3>
<p>For tagging multiple regions of interest in the same data the
<strong>MultiTag</strong> object is used. Unlike the simple <strong>Tag</strong> from the
previous example, the multiple <em>positions</em> and <em>extents</em> can be
given. These are stored in <strong>DataArray</strong> objects. The tagged dataset
is linked via the references.  There are some restrictions regarding
the <strong>DataArrays</strong> storing positions and extents. The data stored in
them <strong>must</strong> be 2-dimensional. Both dimensions are <strong>SetDimensions</strong>
representing the individual positions and the positions in the
referenced data, respectively. Thus, the second dimension has as many
entries as the referenced data has dimensions.</p>
<p>In the following example we will declare multiple ROIs in a image. The
image as a spatial extent and three color channels, is hence 3-D. The
same mechanism can, of course, be used to tag other event in different
kinds of data. For example in the neuroscience context: the detection
of action potentials in a recorded membrane potential.</p>
<div class="highlight-python"><div class="highlight"><pre>    <span class="c"># create the positions DataArray</span>
    <span class="n">positions</span> <span class="o">=</span> <span class="n">block</span><span class="o">.</span><span class="n">create_data_array</span><span class="p">(</span><span class="s">&quot;ROI positions&quot;</span><span class="p">,</span> <span class="s">&quot;nix.positions&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">roi_starts</span><span class="p">)</span>
    <span class="n">positions</span><span class="o">.</span><span class="n">append_set_dimension</span><span class="p">()</span> <span class="c"># these can be empty</span>
    <span class="n">positions</span><span class="o">.</span><span class="n">append_set_dimension</span><span class="p">()</span>
    
    <span class="c"># create the extents DataArray</span>
    <span class="n">extents</span> <span class="o">=</span> <span class="n">block</span><span class="o">.</span><span class="n">create_data_array</span><span class="p">(</span><span class="s">&quot;ROI extents&quot;</span><span class="p">,</span> <span class="s">&quot;nix.extents&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">roi_extents</span><span class="p">)</span>
    <span class="n">extents</span><span class="o">.</span><span class="n">append_set_dimension</span><span class="p">()</span>
    <span class="n">extents</span><span class="o">.</span><span class="n">append_set_dimension</span><span class="p">()</span>

    <span class="c"># create a MultiTag</span>
    <span class="n">multi_tag</span> <span class="o">=</span> <span class="n">block</span><span class="o">.</span><span class="n">create_multi_tag</span><span class="p">(</span><span class="s">&quot;Regions of interest&quot;</span><span class="p">,</span> <span class="s">&quot;nix.roi&quot;</span><span class="p">,</span> <span class="n">positions</span><span class="p">)</span>
    <span class="n">multi_tag</span><span class="o">.</span><span class="n">extents</span> <span class="o">=</span> <span class="n">extents</span>
    <span class="n">multi_tag</span><span class="o">.</span><span class="n">references</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/multi_roi.png"><img alt="_images/multi_roi.png" src="_images/multi_roi.png" style="width: 240px;" /></a>
<p>Source code for this example: <a class="reference external" href="examples/multipleROIs.py">multipleROIs.py</a>.</p>
<p><a class="reference internal" href="#toc"><em>List of Tutorials</em></a></p>
</div>
<div class="section" id="tagging-spikes-in-membrane-potential">
<span id="spike-tagging"></span><h3>Tagging spikes in membrane potential<a class="headerlink" href="#tagging-spikes-in-membrane-potential" title="Permalink to this headline">¶</a></h3>
<p>Neuroscience example. The same construct as above is used to mark the
times at which action potentials were detected in the recording of a
neuron&#8217;s membrane potential.</p>
<div class="highlight-python"><div class="highlight"><pre>    <span class="c"># create a &#39;DataArray&#39; to take the membrane voltage</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">block</span><span class="o">.</span><span class="n">create_data_array</span><span class="p">(</span><span class="s">&quot;membrane voltage&quot;</span><span class="p">,</span> <span class="s">&quot;nix.regular_sampled.time_series&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">voltage</span><span class="p">)</span>
    <span class="n">data</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="s">&quot;membrane voltage&quot;</span>
    <span class="c"># add descriptors for time axis</span>
    <span class="n">time_dim</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">append_sampled_dimension</span><span class="p">(</span><span class="n">time</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">time</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">time_dim</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="s">&quot;time&quot;</span>
    <span class="n">time_dim</span><span class="o">.</span><span class="n">unit</span> <span class="o">=</span> <span class="s">&quot;s&quot;</span>
   
    <span class="c"># create the positions DataArray</span>
    <span class="n">positions</span> <span class="o">=</span> <span class="n">block</span><span class="o">.</span><span class="n">create_data_array</span><span class="p">(</span><span class="s">&quot;times&quot;</span><span class="p">,</span> <span class="s">&quot;nix.positions&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">spike_times</span><span class="p">)</span>
    <span class="n">positions</span><span class="o">.</span><span class="n">append_set_dimension</span><span class="p">()</span> <span class="c"># these can be empty</span>
    <span class="n">positions</span><span class="o">.</span><span class="n">append_set_dimension</span><span class="p">()</span>
    
    <span class="c"># create a MultiTag</span>
    <span class="n">multi_tag</span> <span class="o">=</span> <span class="n">block</span><span class="o">.</span><span class="n">create_multi_tag</span><span class="p">(</span><span class="s">&quot;spike times&quot;</span><span class="p">,</span> <span class="s">&quot;nix.events.spike_times&quot;</span><span class="p">,</span> <span class="n">positions</span><span class="p">)</span>
    <span class="n">multi_tag</span><span class="o">.</span><span class="n">references</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/spike_tagging.png"><img alt="_images/spike_tagging.png" src="_images/spike_tagging.png" style="width: 240px;" /></a>
<p>Source code for this example: <a class="reference external" href="examples/spikeTagging.py">spikeTagging.py</a>.</p>
<p><a class="reference internal" href="#toc"><em>List of Tutorials</em></a></p>
</div>
<div class="section" id="retrieving-tagged-regions">
<h3>Retrieving tagged regions<a class="headerlink" href="#retrieving-tagged-regions" title="Permalink to this headline">¶</a></h3>
<p>TODO</p>
<p><a class="reference internal" href="#toc"><em>List of Tutorials</em></a></p>
</div>
<div class="section" id="unit-support-in-tagging">
<h3>Unit support in tagging<a class="headerlink" href="#unit-support-in-tagging" title="Permalink to this headline">¶</a></h3>
<p>TODO</p>
<p><a class="reference internal" href="#toc"><em>List of Tutorials</em></a></p>
</div>
</div>
<div class="section" id="features">
<span id="id6"></span><h2>Features<a class="headerlink" href="#features" title="Permalink to this headline">¶</a></h2>
<p>The following code shows how to use the <strong>Features</strong> of the
Nix-model. Suppose that we have the recording of a signal in which a
set of events is detected. No each event may have certain
characteristics one wants to store. These are stored as <strong>Features</strong>
of the events.</p>
<div class="section" id="untagged-feature">
<span id="id7"></span><h3>Untagged Feature<a class="headerlink" href="#untagged-feature" title="Permalink to this headline">¶</a></h3>
<p>TODO</p>
</div>
<div class="section" id="tagged-feature">
<span id="id8"></span><h3>Tagged Feature<a class="headerlink" href="#tagged-feature" title="Permalink to this headline">¶</a></h3>
<p>Tagged <strong>Features</strong> are used in cases in which the positions and
extents of a tag also apply to another linked dataset. In the
following example the spike times should also be applied to the
stimulus that led to the responses. The stimulus is saved in an
additional <strong>DataArray</strong> and is linked to the spike times as a
<strong>Feature</strong> setting the <strong>LinkType</strong> to <em>tagged</em>.</p>
<div class="highlight-python"><div class="highlight"><pre>    <span class="c"># create a MultiTag</span>
    <span class="n">multi_tag</span> <span class="o">=</span> <span class="n">block</span><span class="o">.</span><span class="n">create_multi_tag</span><span class="p">(</span><span class="s">&quot;spike times&quot;</span><span class="p">,</span> <span class="s">&quot;nix.events.spike_times&quot;</span><span class="p">,</span> <span class="n">positions</span><span class="p">)</span>
    <span class="n">multi_tag</span><span class="o">.</span><span class="n">references</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

    <span class="c"># save stimulus snippets in a DataArray </span>
    <span class="n">stimulus_array</span> <span class="o">=</span> <span class="n">block</span><span class="o">.</span><span class="n">create_data_array</span><span class="p">(</span><span class="s">&quot;stimulus&quot;</span><span class="p">,</span> <span class="s">&quot;nix.regular_sampled&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">stimulus</span><span class="p">)</span>
    <span class="n">stimulus_array</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="s">&quot;stimulus&quot;</span>
    <span class="n">stimulus_array</span><span class="o">.</span><span class="n">unit</span> <span class="o">=</span> <span class="s">&quot;nA&quot;</span>
    <span class="c"># add a descriptor for the time axis</span>
    <span class="n">dim</span> <span class="o">=</span> <span class="n">stimulus_array</span><span class="o">.</span><span class="n">append_sampled_dimension</span><span class="p">(</span><span class="n">stepsize</span><span class="p">)</span>
    <span class="n">dim</span><span class="o">.</span><span class="n">unit</span> <span class="o">=</span> <span class="s">&quot;s&quot;</span>
    <span class="n">dim</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="s">&quot;time&quot;</span>
    
    <span class="c"># set stimulus as a tagged feature of the multi_tag</span>
    <span class="n">multi_tag</span><span class="o">.</span><span class="n">create_feature</span><span class="p">(</span><span class="n">stimulus_array</span><span class="p">,</span> <span class="n">nix</span><span class="o">.</span><span class="n">LinkType</span><span class="o">.</span><span class="n">Tagged</span><span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/tagged_feature.png"><img alt="_images/tagged_feature.png" src="_images/tagged_feature.png" style="width: 240px;" /></a>
<p>Source code for this example: <a class="reference external" href="examples/taggedFeature.py">taggedFeature.py</a>.</p>
<p><a class="reference internal" href="#toc"><em>List of Tutorials</em></a></p>
</div>
<div class="section" id="id9">
<h3>Retrieving tagged regions<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<p>TODO</p>
<p><a class="reference internal" href="#toc"><em>List of Tutorials</em></a></p>
</div>
<div class="section" id="indexed-feature">
<span id="id10"></span><h3>Indexed Feature<a class="headerlink" href="#indexed-feature" title="Permalink to this headline">¶</a></h3>
<p>In the example, the signal is the membrane potential of a (model)
neuron which was stimulated with some stimulus. The events are again
the action potentials (or spikes) fired by that neuron. A typical
analysis performed on such data is the Spike triggered average which
represent the average stimulus that led to a spike. For each spike, a
snippet of the respective stimulus is cut out and later averaged. In
this example we store these stimulus snippets and link them to the
events by adding a <strong>Feature</strong> to the <strong>MultiTag</strong>. There are three
different flags that define how this link has to be interpreted. In
this case there is one snippet for each spike. The index of each
position has to be used as an index in the first dimension of the
Feature data. The <strong>LinkType</strong> has to be set to <em>indexed</em>.</p>
<div class="highlight-python"><div class="highlight"><pre>    <span class="c"># save stimulus snippets in a DataArray </span>
    <span class="n">snippets</span> <span class="o">=</span> <span class="n">block</span><span class="o">.</span><span class="n">create_data_array</span><span class="p">(</span><span class="s">&quot;spike triggered stimulus&quot;</span><span class="p">,</span> <span class="s">&quot;nix.regular_sampled.multiple_series&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">sts</span><span class="p">)</span>
    <span class="n">snippets</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="s">&quot;stimulus&quot;</span>
    <span class="n">snippets</span><span class="o">.</span><span class="n">unit</span> <span class="o">=</span> <span class="s">&quot;nA&quot;</span>
    <span class="n">set_dim</span> <span class="o">=</span> <span class="n">snippets</span><span class="o">.</span><span class="n">append_set_dimension</span><span class="p">()</span>
    <span class="c"># add a descriptor for the time axis</span>
    <span class="n">dim</span> <span class="o">=</span> <span class="n">snippets</span><span class="o">.</span><span class="n">append_sampled_dimension</span><span class="p">(</span><span class="n">stepsize</span><span class="p">)</span>
    <span class="n">dim</span><span class="o">.</span><span class="n">unit</span> <span class="o">=</span> <span class="s">&quot;s&quot;</span>
    <span class="n">dim</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="s">&quot;time&quot;</span>
    <span class="n">dim</span><span class="o">.</span><span class="n">offset</span> <span class="o">=</span> <span class="o">-</span><span class="n">sta_offset</span> <span class="o">*</span> <span class="n">stepsize</span>
    
    <span class="c"># set snippets as an indexed feature of the multi_tag</span>
    <span class="n">multi_tag</span><span class="o">.</span><span class="n">create_feature</span><span class="p">(</span><span class="n">snippets</span><span class="p">,</span> <span class="n">nix</span><span class="o">.</span><span class="n">LinkType</span><span class="o">.</span><span class="n">Indexed</span><span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/spike_feature.png"><img alt="_images/spike_feature.png" src="_images/spike_feature.png" style="width: 240px;" /></a>
<p>Source code for this example: <a class="reference external" href="examples/spikeFeatures.py">spikeFeatures.py</a>.</p>
<p><a class="reference internal" href="#toc"><em>List of Tutorials</em></a></p>
</div>
</div>
<div class="section" id="storing-the-origin-of-data">
<h2>Storing the origin of data<a class="headerlink" href="#storing-the-origin-of-data" title="Permalink to this headline">¶</a></h2>
<p>TODO adding Sources and nesting them</p>
<p><a class="reference internal" href="#toc"><em>List of Tutorials</em></a></p>
</div>
<div class="section" id="working-with-data">
<h2>Working with Data<a class="headerlink" href="#working-with-data" title="Permalink to this headline">¶</a></h2>
<p>TODO write something</p>
<p><a class="reference internal" href="#toc"><em>List of Tutorials</em></a></p>
</div>
<div class="section" id="working-with-metadata">
<h2>Working with Metadata<a class="headerlink" href="#working-with-metadata" title="Permalink to this headline">¶</a></h2>
<p>TODO write something</p>
<p><a class="reference internal" href="#toc"><em>List of Tutorials</em></a></p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="index.html">
    <img class="logo" src="_static/logo.png" alt="Logo"/>
    
  </a>
</p>





<p>
<iframe src="http://ghbtns.com/github-btn.html?user=G-Node&repo=nixpy&type=watch&count=False&size=large"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>




    

<p>
<a href="https://travis-ci.org/G-Node/nixpy">
    <img
        alt="https://secure.travis-ci.org/G-Node/nixpy.png?branch=master"
        src="https://secure.travis-ci.org/G-Node/nixpy.png?branch=master"
    >
</a>
</p>
<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation Guidelines</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">NIXPy Tutorial</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api_data.html">API Documentation for Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="api_metadata.html">API Documentation for Metadata</a></li>
</ul>


<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2014, German Neuroinformatics Node, Christian Kellner, Adrian Stoewer, Andrey Sobolev, Jan Grewe, Balint Morvai.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.2.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.6.0</a>
      
      |
      <a href="_sources/tutorial.txt"
          rel="nofollow">Page source</a></li>
    </div>

    

    
  </body>
</html>